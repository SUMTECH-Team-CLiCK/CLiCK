chrome.runtime.onInstalled.addListener(()=>{console.log("CLICK extension installed.")});chrome.runtime.onMessage.addListener((t,n,r)=>{if(t.type==="ANALYZE_PROMPT")return(async()=>{try{const e=await fetch("http://localhost:3001/api/analyze-prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t.prompt})});if(!e.ok)throw new Error(`Server responded with status: ${e.status}`);const o=await e.json();r(o)}catch(e){console.error("API 요청 실패:",e),r({error:e.message})}})(),!0});
